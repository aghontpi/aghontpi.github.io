<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content=noodp><meta name=author content=Bluepie><meta name=description content="Public Journal of aghontpi"><meta name=keywords content="aghontpi bluepie Journal"><link rel=prev href=//bluepie.in/2023/08/birthday-month-reflection/><link rel=next href=//bluepie.in/2023/11/self-hosted-netflix-replacer/><link rel=canonical href=//bluepie.in/2023/09/electron-views/><link rel=apple-touch-icon sizes=180x180 href=//bluepie.in/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=//bluepie.in/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=//bluepie.in/favicon-16x16.png><link rel=manifest href=//bluepie.in/site.webmanifest><link rel=mask-icon href=//bluepie.in/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content=#da532c><meta name=theme-color content=#ffffff><title>Overcoming a limitation in Electron | Bluepie&#39;s Journal</title><meta name=title content="Overcoming a limitation in Electron | Bluepie's Journal"><link rel=stylesheet href=//bluepie.in/font/iconfont.css><link rel=stylesheet href=//bluepie.in/css/main.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"\/\/bluepie.in\/"},"articleSection":"posts","name":"Overcoming a limitation in Electron","headline":"Overcoming a limitation in Electron","description":"Hey, what\x26rsquo;s going on with you, hopefully good things, a small personal update, I think I lost focus on my goals for almost a 1.6 years, right after I joined vz, maybe its beause this is the first ime I ever switched my official day time job, wtf, time..time..time it moves soo fast, nowadays literally everthing takes soo much time in this attention seeking nightmare.. wtf, you can not even ignore most of the things, otherwise you will be an outcast, Something happened and it gave me a wakeup call on why I wanted my life goals on the first place, then I realized, \x26ldquo;you are the person shaped by your memories, at least your behaviour should reflect it\x26rdquo;, because If I still had my old memories and experiences I would have not changed courses?","inLanguage":"en-us","author":"Bluepie","creator":"Bluepie","publisher":"Bluepie","accountablePerson":"Bluepie","copyrightHolder":"Bluepie","copyrightYear":"2023","datePublished":"2023-09-21 06:03:26 \x2b0000 UTC","dateModified":"2023-09-21 06:03:26 \x2b0000 UTC","url":"\/\/bluepie.in\/2023\/09\/electron-views\/","wordCount":"1056","keywords":["Bluepie\x27s Journal"]}</script><script type=text/javascript>(function(c,l,a,r,i,t,y){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);})(window,document,"clarity","script","9oioq6tja4");</script></head><body><div class=wrapper><nav class=navbar><div class=container><div class="navbar-header header-logo"><a href=javascript:void(0); class=theme-switch><i class="extra extra-moon"></i></a>&nbsp;<a href=//bluepie.in/>Bluepie&#39;s Journal</a></div><div class="menu navbar-right"><a class=menu-item href=//bluepie.in/posts/>Journal entries</a>
<a class=menu-item href=//bluepie.in/categories/>Categories</a></div></div></nav><nav class=navbar-mobile id=nav-mobile style=display:none><div class=container><div class=navbar-header><div><a href=javascript:void(0); class=theme-switch><i class="extra extra-moon"></i></a>&nbsp;<a href=//bluepie.in/>Bluepie&#39;s Journal</a></div><div class=menu-toggle><span></span><span></span><span></span></div></div><div class=menu id=mobile-menu><a class=menu-item href=//bluepie.in/posts/>Journal entries</a>
<a class=menu-item href=//bluepie.in/categories/>Categories</a></div></div></nav><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-135013873-2','auto');ga('send','pageview');}</script><main class=main><div class=container><article class=post-warp itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline">Overcoming a limitation in Electron</h1><div class=post-meta>Written by <a itemprop=name href=//bluepie.in/ rel=author>Bluepie</a> with ♥
<span class=post-time>on <time datetime=2023-09-21 itemprop=datePublished>September 21, 2023</time></span>
in
<i class="iconfont icon-folder"></i><span class=post-category><a href=//bluepie.in/categories/tech/>Tech</a>
<a href=//bluepie.in/categories/electron/>Electron</a></span></div></header><div class=post-content><img src=//bluepie.in/images/posts/Solving%20an%20electron%20problem/Electron-logo-light.png class=featured_image><p>Hey, what&rsquo;s going on with you, hopefully good things, a small personal update, I think I lost focus on my goals for almost a 1.6 years, right after I joined vz, maybe its beause this is the first ime I ever switched my official day time job, wtf, time..time..time it moves soo fast, nowadays literally everthing takes soo much time in this attention seeking nightmare.. wtf, you can not even ignore most of the things, otherwise you will be an outcast, Something happened and it gave me a wakeup call on why I wanted my life goals on the first place, then I realized, &ldquo;you are the person shaped by your memories, at least your behaviour should reflect it&rdquo;, because If I still had my old memories and experiences I would have not changed courses? doing all the things that external factors influences me, my future self can agree or disagree on this.</p><h2 id=electron>Electron</h2><p>I haven&rsquo;t worked in electron before, embedded view and browser views are three different ways to build the UI for your electron app</p><ul><li>iframe tag</li><li>webview tag</li><li>BrowserView</li></ul><p>Officailly in the docs there is note asking people to not use webiew though, <a href=https://www.electronjs.org/docs/latest/api/webview-tag#warning rel="nofollow noreferrer" target=_blank>&ldquo;Important Note: we do not recommend you to use WebViews&rdquo;</a></p><h2 id=what-why>What &amp; why</h2><p>Recently I&rsquo;ve been tasked with creating an electron experience on my office job, sadly I can not talk about it though, but I can share how I solved some of the engineering problems though.</p><h2 id=this-post-is-gona-be-detailing-about>This post is gona be detailing about,</h2><p>Problem to solve:
Overcoming the lack of support of z-Index on Electron Views</p><h2 id=figma-design-views>Figma design views</h2><p>Maybe this can be solved in a different way, maybe there is even an official solution, but when I searched for zindex for browser views, there was not any solution.</p><p>For the project, I needed to work with showing different views simultaneously at the same time.</p><p>All the views are maintained and accessbile in electron api&rsquo;s, In addition to that, I built a wrapper Class that track all the windows in the app, It also trackts what is the current active view.</p><h3 id=what-i-mean-by-main-view-current-active-view>What I mean by main view/ current active view?</h3><p><figure><img src=//bluepie.in/images/ring.svg data-sizes=auto data-src="//bluepie.in/images/posts/Solving an electron problem/view-expl-part-1.png" alt class=lazyload><figcaption class=image-caption></figcaption></figure></p><ul><li>Section labelled as &ldquo;1&rdquo; is like a sidebar to a website, its main purpose of it is to switch between showing content on section labelled as &ldquo;2&rdquo;.</li><li>Both &ldquo;1&rdquo; &amp; &ldquo;2&rdquo; are <a href=https://www.electronjs.org/docs/latest/api/browser-view rel="nofollow noreferrer" target=_blank>BrowserViews</a> positioned absolutely using <a href=https://www.electronjs.org/docs/latest/api/browser-view#viewsetboundsbounds-experimental rel="nofollow noreferrer" target=_blank>set bounds</a></li></ul><h3 id=the-problem>The problem</h3><p>If the view for the left sidebar (section &ldquo;1&rdquo; from image) has to show a popup, that is beyound the bounds (width and height), the content in the view will be cut-off by the main view (section &ldquo;2&rdquo; of the image). In browser if we were to do this, we can set <code>z-index</code> to overcome the issue, this is true even for electron, if we have used the <code>iframe</code> instead of <code>BrowserView</code>,</p><p><figure><img src=//bluepie.in/images/ring.svg data-sizes=auto data-src="//bluepie.in/images/posts/Solving an electron problem/view expl - part 3.png" alt class=lazyload><figcaption class=image-caption></figcaption></figure></p><h3 id=solution>Solution</h3><p>Since <code>BrowserViews</code> does not have <code>z-index</code>, I have to find a different solution. In <code>BrowserView</code> the last added window is always placed on top of other windows. So this is the reason, the sidebar view (section 1) has its view (view that is out of bounds) cut-off. But luckly we have this <a href=https://www.electronjs.org/docs/latest/api/browser-window#winsettopbrowserviewbrowserview-experimental rel="nofollow noreferrer" target=_blank>api (setTopBrowserView)</a>.</p><p><em>[API definition] - win.setTopBrowserView(browserView)</em></p><p><em>Raises browserView above other BrowserViews attached to win. Throws an error if browserView is not attached to win.</em></p><p>Using <code>setTopBrowserView</code> I can make the sidebar view to come front, wheneven I want to show a popup or any view that is out of bounds (width and height exceeds the bounds in the view).</p><h3 id=how-do-we-do-this>How do we do this?</h3><p>For my usecase, I wanted to show a popup that will be out of bounds when user interacts with the contents of the sidebar, so I have a trigger which I can use when to show or hide out of bounds contents.</p><p>I can listen for mouse events on the side bar view (section <code>1</code> from the image), whenever the mouse enters the sidebar view I can use <code>setTopBrowserView</code> to set sidebarview as the <code>top</code> view.</p><p>Now all the contents. Normal and out of bounds contents are visible, as it is the top view.</p><p><figure><img src=//bluepie.in/images/ring.svg data-sizes=auto data-src="//bluepie.in/images/posts/Solving an electron problem/view expl - part 2.png" alt class=lazyload><figcaption class=image-caption></figcaption></figure></p><p>On mouse leave, I can then set the original view that was top view to reset the behaviour.</p><h3 id=how-do-we-do-this-in-react>How do we do this in react?</h3><p>Code is pretty straight forward and will make it easy to understand the logic.</p><p>render part</p><pre><code class=language-jsx>&lt;div
...
ref={divListenerRef}
&gt;
...
...
...
&lt;/div&gt;
</code></pre><p>setting up the mouse enter and mouse leave triggers</p><pre><code class=language-js>useEffect(() =&gt; {
  if (divListenerRef &amp;&amp; divListenerRef.current) {
    console.debug('[setting bounds triggers]');
    divListenerRef.current.addEventListener('mouseenter', callbackToExpand);
    divListenerRef.current.addEventListener('mouseleave', callbackToRestrict);
  }

  return () =&gt; {
    if (divListenerRef.current) {
      console.debug('[cleaning up triggers]');
      divListenerRef.current.removeEventListener('mouseenter', callbackToExpand);
      divListenerRef.current.removeEventListener('mouseleave', callbackToRestrict);
    }
  };
}, [popupCoordinates, popupProfile]);

#popupCoordinates, popupProfile are just x,y values &amp; status, whether to show or hide the popup
</code></pre><p>like I said code is self explanatory.
I&rsquo;ve had this in draft for over couple of months now.. I wanted to check office laptop to refer my code to be accurate, finally had the urge to open office laptop..at 408am.
like I said in the begining personal udpate.</p><h2 id=conclusion>Conclusion</h2><p>Electron is fun, using exisiting tech that we already know to speed up the dev process to deliver quick.. maybe I will cover bundling/building in a diff post..if I feel that I can contribute something different than what is already present all over the internet.</p><p>I made the bad desicision of looking back into my past.. I shouldn&rsquo;t have.. and tried to make contact.. why did I do that? (not influenced by core belief&hellip;suggestions?) by the time I got a response, I was already regretting and back to my current self of just moving forward. all happended in july (remember future me!)</p><p>The thing about memories,it has proven me once again. Since I started to write..complete and had this post in draft for months, I already forgot a lot.. if I remembered all the things from the begining paragraph while making decisions over the last months, I would have made differnet decisions. Memory is really important to _ your _ &amp; _.. (future me remebers?) maybe I can build something for me that keeps track of all these.. with a search user interface and a keyword.. so I can make an informed decision?? google tasks, keep already do this.. no?..something to think about for me. Hope future me reads this and realises how important some small things can be.</p></div><div class=post-copyright><p class=copyright-item><span>Author:</span>
<span>Bluepie</span></p><p class=copyright-item><span>Link:</span>
<a href=//bluepie.in/2023/09/electron-views/>//bluepie.in/2023/09/electron-views/</span></p></div><div class=post-tags><section><a href=javascript:window.history.back();>back</a></span> ·
<span><a href=//bluepie.in/>home</a></span></section></div><div class=post-nav><a href=//bluepie.in/2023/08/birthday-month-reflection/ class=prev rel=prev title="Birthday Month 2023, Reflection &amp; Goals"><i class="iconfont icon-left"></i>&nbsp;Birthday Month 2023, Reflection &amp; Goals</a>
<a href=//bluepie.in/2023/11/self-hosted-netflix-replacer/ class=next rel=next title="How I Replaced Netflix and Have Been Using My Media Server for Over 2 Years">How I Replaced Netflix and Have Been Using My Media Server for Over 2 Years&nbsp;<i class="iconfont icon-right"></i></a></div><div class=post-comment><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"gopinath001-github-io-blog"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></article></div></main><footer class=footer><div class=copyright>&copy;
<span itemprop=copyrightYear>2017 - 2025</span>
<span class=with-love>|</span>
<span class=author itemprop=copyrightHolder><a href=//bluepie.in/>Bluepie</a></span></div></footer><link href=//bluepie.in/css/lightgallery.min.css rel=stylesheet><script src=//bluepie.in/js/vendor_gallery.min.js async></script></div></body></html>